<div class="main-container">
  <div class="pd-ltr-20 xs-pd-20-10">
    <div class="min-height-200px">
      <div class="page-header">
        <div class="row">
          <div class="col-12 col-md-4 col-sm-12">
            <div class="title">
              <h4 class="text-capitalize fs-3">{{title}}</h4>
            </div>
            <nav aria-label="breadcrumb" role="navigation">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{title}}</li>
              </ol>
            </nav>
          </div>
          <div class="text-right">
            <a class="btn btn-outline-primary mx-2" href="#" routerLink="/fournisseur">
              <span class="micon dw dw-mouse"></span><span class="mtext mx-2">Autres</span>
            </a>
          </div>
        </div>
      </div>
      <!-- Export Datatable start -->
      <div class="...-box">
        <mat-card class="mat-elevation-z0 bg-transparent">
          <mat-card-header>
            <mat-card-title>
              <button *ngIf="objetFRS" type="button" mat-button><mat-icon class="text-danger" (click)="this.location.back()">reply</mat-icon></button>
              |
              Rechercher un fournisseur
            </mat-card-title>
            <mat-card-subtitle>Selectionnez un fournisseur pour voir les details de son stock...</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content
            [ngStyle]="{ 'display': 'flex', 'flex-direction': 'row', 'justify-content': 'space-between', 'align-items': 'center' }">
            <div class="col">
              <form [formGroup]="formControlFournisseur" *ngIf="!objetFRS" (ngSubmit)="getOneFournisseurPOST(formControlFournisseur)">
                <div class="input-group">
                  <mat-form-field class="w-75 p-3">
                    <mat-label>Tous les fournisseurs</mat-label>
                    <mat-select formControlName="id">
                      <mat-option>--- Aucune selection ---</mat-option>
                      <mat-option *ngFor="let data of fournisseurList" [value]="data.id">
                        {{data.prenom + " " + data.nom}} | Tel : <span class="text-danger">{{ data.telephone }}</span>
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <div class="">
                    <button type="submit" (click)="getAchat()" [disabled]="!formControlFournisseur.valid"
                      mat-raised-button color="warn" class="p-2 rounded-0">
                      <i class="micon dw dw-search mx-2" [ngStyle]="{ 'font-size': '20px'}"><span
                          [ngStyle]="{ 'font-size': '18px', 'font-family': 'sans-serif', 'font-weight': 'bold'}">
                          Afficher son stock</span></i>
                    </button>
                  </div>
                </div>
              </form>

              <div class="" *ngIf="objetFRS">
                <div class="row">
                  <div class="col-lg-4">
                    <div class="card mb-4 shadow-lg border-0">
                      <div class="card-body text-center">
                        <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp"
                          alt="avatar" class="rounded-circle img-fluid w-50" style="width: 150px;">
                        <h4 class="my-3 fw-bold">{{ objetFRS.prenom }} {{ objetFRS.nom }}</h4>
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-8">
                    <div class="card mb-4">
                      <div class="card-body">
                        <div class="row">
                          <div class="col-sm-3">
                            <p class="mb-0">Nom complet</p>
                          </div>
                          <div class="col-sm-9">
                            <p class="text-muted mb-0">{{ objetFRS.prenom }} {{ objetFRS.nom }}</p>
                          </div>
                        </div>
                        <hr>
                        <div class="row">
                          <div class="col-sm-3">
                            <p class="mb-0">Email</p>
                          </div>
                          <div class="col-sm-9">
                            <p class="text-muted mb-0">{{ objetFRS.email }}</p>
                          </div>
                        </div>
                        <hr>
                        <div class="row">
                          <div class="col-sm-3">
                            <p class="mb-0">Adresse</p>
                          </div>
                          <div class="col-sm-9">
                            <p class="text-muted mb-0">(+224) {{ objetFRS.telephone }} / {{ objetFRS.pays }}/{{
                              objetFRS.ville }}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <a href="#" class="w-100 p-2" *ngIf="!Poids_total_compte_fournisseur" [hidden]="!objetFRS.id" mat-flat-button color="accent" routerLink="/fournisseur/stock/{{objetFRS.id}}">Voir les details du stock</a>
                  </div>

                  <div class="card mb-4 mb-lg-0 shadow-lg">
                    <div class="card-body">
                      <!-- GESTION DE STOCK -->
                      <table class="table table-hover table-secondary table-striped">
                        <thead class="">
                          <th>#</th>
                          <th>Stock</th>
                          <th>Fix&#233; & valider</th>
                          <th>Reste (Disponible)</th>
                        </thead>
                        <tbody>
                          <tr>
                            <td>1</td>
                            <td>{{ Poids_total_compte_fournisseur | number:'1.2-2'}} g</td>
                            <td>{{ Qte_fixer | number:'1.2-2'}} g</td>
                            <td>{{ (Poids_total_compte_fournisseur - Qte_fixer) | number:'1.2-2'}} g</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <!-- Export Datatable End -->
    </div>
  </div>
</div>
